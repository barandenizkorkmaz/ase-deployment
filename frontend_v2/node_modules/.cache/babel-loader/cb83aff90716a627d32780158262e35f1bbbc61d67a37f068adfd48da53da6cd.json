{"ast":null,"code":"import _classCallCheck from\"/home/denizkorkmaz/Git/ASE-Team3/frontend_v2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/denizkorkmaz/Git/ASE-Team3/frontend_v2/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/denizkorkmaz/Git/ASE-Team3/frontend_v2/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/denizkorkmaz/Git/ASE-Team3/frontend_v2/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/denizkorkmaz/Git/ASE-Team3/frontend_v2/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from'react';import{Row,Container}from'react-bootstrap';import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';import{loadState,saveState}from'../../localstorage/LocalStorage';import{authenticationClient}from'../../network/clients';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var LoginComponent=/*#__PURE__*/function(_Component){_inherits(LoginComponent,_Component);var _super=_createSuper(LoginComponent);function LoginComponent(props){var _this;_classCallCheck(this,LoginComponent);_this=_super.call(this,props);_this.state={email:\"\",password:\"\"};_this.handleChangeEmail=_this.handleChangeEmail.bind(_assertThisInitialized(_this));_this.handleChangePassword=_this.handleChangePassword.bind(_assertThisInitialized(_this));_this.sendLoginRequest=_this.sendLoginRequest.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginComponent,[{key:\"handleChangeEmail\",value:function handleChangeEmail(event){this.setState({email:event.target.value});}},{key:\"handleChangePassword\",value:function handleChangePassword(event){this.setState({password:event.target.value});}},{key:\"getToken\",value:function getToken(response){console.log(response);}},{key:\"sendLoginRequest\",value:function sendLoginRequest(event){event.preventDefault();console.log(this.state);var email=this.state.email;var password=this.state.password;/*\n        fetch(\n            '/delivery/list/dispatcher/all',\n            {\n                method:'GET',\n                mode: 'no-cors',\n                header: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: null,\n                referrerPolicy: 'no-referrer'\n            }\n        ).then(\n            (response) => {\n                if (response.ok) {\n                    response.json().then(json => {\n                        console.log(json);\n                    });\n                }\n            }\n        )\n\n         */fetch('/user/login',{method:'POST',mode:'no-cors',header:{'Accept':'application/json','Content-Type':'application/json'},body:{\"email\":email,\"password\":password},referrerPolicy:'no-referrer'}).then(function(response){console.log(response);if(response.ok){response.json().then(function(json){console.log(json);});}});/*\n        authenticationClient.post('/user/login', {\n            \"email\": email,\n            \"password\": password\n        })\n            .then((response) => {\n                this.getToken(response);\n            });\n\n        saveState(\"login\",true);\n        console.log(loadState(\"login\"));\n\n         */}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-md-center mt-5\",xs:6,md:2,children:/*#__PURE__*/_jsxs(Form,{onSubmit:this.sendLoginRequest,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Email\",value:this.state.email,onChange:this.handleChangeEmail})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",value:this.state.password,onChange:this.handleChangePassword})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",size:\"lg\",children:\"Submit\"})})]})})});}}]);return LoginComponent;}(Component);","map":{"version":3,"names":["Component","Row","Container","Button","Form","loadState","saveState","authenticationClient","LoginComponent","props","state","email","password","handleChangeEmail","bind","handleChangePassword","sendLoginRequest","event","setState","target","value","response","console","log","preventDefault","fetch","method","mode","header","body","referrerPolicy","then","ok","json"],"sources":["/home/denizkorkmaz/Git/ASE-Team3/frontend_v2/src/feature/login/Login.js"],"sourcesContent":["import { Component } from 'react'\nimport { Row, Container } from 'react-bootstrap';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport { loadState, saveState } from '../../localstorage/LocalStorage';\nimport { authenticationClient } from '../../network/clients';\n\n\nexport class LoginComponent extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\"\n        };\n        this.handleChangeEmail = this.handleChangeEmail.bind(this);\n        this.handleChangePassword = this.handleChangePassword.bind(this);\n        this.sendLoginRequest = this.sendLoginRequest.bind(this);\n    }\n\n    handleChangeEmail(event) {\n        this.setState({ email: event.target.value });\n    }\n\n    handleChangePassword(event) {\n        this.setState({ password: event.target.value });\n    }\n\n    getToken(response) {\n        console.log(response);\n    }\n\n    sendLoginRequest(event) {\n        event.preventDefault();\n        console.log(this.state);\n        let email = this.state.email;\n        let password = this.state.password;\n        /*\n        fetch(\n            '/delivery/list/dispatcher/all',\n            {\n                method:'GET',\n                mode: 'no-cors',\n                header: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: null,\n                referrerPolicy: 'no-referrer'\n            }\n        ).then(\n            (response) => {\n                if (response.ok) {\n                    response.json().then(json => {\n                        console.log(json);\n                    });\n                }\n            }\n        )\n\n         */\n\n        fetch(\n            '/user/login',\n            {\n                method:'POST',\n                mode: 'no-cors',\n                header: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: {\n                    \"email\": email,\n                    \"password\": password\n                },\n                referrerPolicy: 'no-referrer'\n            }\n        ).then(\n            (response) => {\n                console.log(response)\n                if (response.ok) {\n                    response.json().then(json => {\n                        console.log(json);\n                    });\n                }\n            }\n        )\n\n\n\n        /*\n        authenticationClient.post('/user/login', {\n            \"email\": email,\n            \"password\": password\n        })\n            .then((response) => {\n                this.getToken(response);\n            });\n\n        saveState(\"login\",true);\n        console.log(loadState(\"login\"));\n\n         */\n\n    }\n\n    render() {\n        return <Container >\n            <Row className=\"justify-content-md-center mt-5\" xs={6} md={2}>\n                <Form onSubmit={this.sendLoginRequest}>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                        <Form.Label>Email</Form.Label>\n                        <Form.Control type=\"email\" placeholder=\"Email\" value={this.state.email} onChange={this.handleChangeEmail} />\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.handleChangePassword} />\n                    </Form.Group>\n                    <div className=\"d-grid gap-2\">\n                        <Button variant=\"primary\" type=\"submit\" size=\"lg\">\n                            Submit\n                        </Button>\n                    </div>\n                </Form>\n            </Row>\n        </Container>\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}